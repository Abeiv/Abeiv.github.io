<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>使用flutter二维码的坑</title>
    <url>/2019/11/26/%E4%BD%BF%E7%94%A8flutter%E4%BA%8C%E7%BB%B4%E7%A0%81%E7%9A%84%E5%9D%91/</url>
    <content><![CDATA[<p>插件barcode_scan</p>
<p>项目要进行二维码扫码，然后看了一下，参考网上的资料，设置了但是怎么也运行不起来。查了半天发现是AndroidX版本冲突的问题。</p>
<p>参考解决方式：<br>    (<a href="https://blog.csdn.net/ocean20/article/details/89215290" target="_blank" rel="noopener">https://blog.csdn.net/ocean20/article/details/89215290</a>)</p>
<p>在<code>android/gradle/wrapper/gradle-wrapper.properties</code>更改以<code>distributionUrl</code>这样开头的行：<br>至少是4.10.2</p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DART"><figure class="iseeu highlight /dart"><table><tr><td class="code"><pre><span class="line">distributionUrl=https\:<span class="comment">//services.gradle.org/distributions/gradle-4.10.2-all.zip</span></span><br></pre></td></tr></table></figure></div>
<p>在<code>android/build.gradle</code>，替换：</p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    classpath &apos;com.android.tools.build:gradle:3.2.1&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>替换为</p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    classpath &apos;com.android.tools.build:gradle:3.3.0&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>在<code>android/gradle.properties</code>，附加:</p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="code"><pre><span class="line">android.enableJetifier=true</span><br><span class="line">android.useAndroidX=true</span><br></pre></td></tr></table></figure></div>
<p>在<code>android/app/build.gradle</code>：</p>
<p>在<code>android</code> 块中，确保<code>compileSdkVersion</code>并且targetSdkVersion至少<code>28</code>。</p>
<p>将所有已弃用的库替换为AndroidX等效项。例如，如果您使用默认.gradle文件，请进行以下更改：</p>
<p>在 <code>android/app/build.gradle</code></p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="code"><pre><span class="line">testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;</span><br></pre></td></tr></table></figure></div>
<p>改为:</p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="code"><pre><span class="line">testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;</span><br></pre></td></tr></table></figure></div>
<p>最后，在 <code>dependencies</code> 块中，替换</p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="code"><pre><span class="line">androidTestImplementation &apos;com.android.support.test:runner:1.0.2&apos;</span><br><span class="line">androidTestImplementation &apos;com.android.support.test.espresso:espresso-core:3.0.2&apos;</span><br></pre></td></tr></table></figure></div>
<p>改为</p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="code"><pre><span class="line">androidTestImplementation &apos;androidx.test:runner:1.1.1&apos;</span><br><span class="line">androidTestImplementation &apos;androidx.test.espresso:espresso-core:3.1.1&apos;</span><br></pre></td></tr></table></figure></div>

<p>除此之外，还要检查 <code>kotlin_version</code> 的版本不能低于<code>1.3.0</code><br>在 <code>android/build.gradle</code> 修改 <code>kotlin_version</code> 为 <code>1.3.0</code></p>
<p>ok,项目跑起来 完毕</p>
]]></content>
      <tags>
        <tag>flutter,barcode_scan,插件</tag>
      </tags>
  </entry>
  <entry>
    <title>Android avd 虚拟机快捷开启</title>
    <url>/2019/11/26/android%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%BF%AB%E6%8D%B7%E5%BC%80%E5%90%AF/</url>
    <content><![CDATA[<p>新建一个 <code>bat</code> 文件</p>
<p>全局搜索 <code>emulator.exe</code>， 找到<code>emulator</code> 目录下的<code>emulator.exe</code> 复制路径 到  <code>bat</code> 文件中</p>
<p>例如： 我的路径是 <code>E:\android-sdk-windows\emulator</code></p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="code"><pre><span class="line">E:\android-sdk-windows\emulator\emulator.exe</span><br></pre></td></tr></table></figure></div>

<p>然后追加参数设置 ：</p>
<ul>
<li>netdelay： 网络延迟</li>
<li>netspeed:  网速</li>
<li>avd: 要开启的虚拟机名称</li>
</ul>
<p>完整的命令：</p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="code"><pre><span class="line"><span class="function">E:\<span class="title">android</span>-<span class="title">sdk</span>-<span class="title">windows</span>\<span class="title">emulator</span>\<span class="title">emulator.exe</span> -<span class="title">netdelay</span> <span class="title">none</span> -<span class="title">netspeed</span> <span class="title">full</span> -<span class="title">avd</span> <span class="title">Pixel_2_API_29</span></span></span><br></pre></td></tr></table></figure></div>

<p>^[注意： 如果虚拟机名称有空格要用下划线代替]</p>
]]></content>
      <tags>
        <tag>android,avd,虚拟机</tag>
      </tags>
  </entry>
  <entry>
    <title>Flutter_html插件使用</title>
    <url>/2019/11/25/filename/</url>
    <content><![CDATA[<p><a href="https://pub.dev/packages/flutter_html" target="_blank" rel="noopener">Flutter_html插件地址</a><br>添加依赖项<br>    打开 <code>pubspec.yml</code> 添加 :</p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DART"><figure class="iseeu highlight /dart"><table><tr><td class="code"><pre><span class="line">dependencies:</span><br><span class="line">	flutter_html: ^<span class="number">0.11</span><span class="number">.0</span></span><br></pre></td></tr></table></figure></div>
<p>然后执行 <code>flutter pub git</code> 获取依赖项</p>
<p>再 <code>dart</code> 文件中引入包</p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DART"><figure class="iseeu highlight /dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter_html/flutter_html.dart'</span>;</span><br></pre></td></tr></table></figure></div>

<p>目前支持的 <code>html标签</code>  </p>
<blockquote>
<p>a, abbr, acronym, address, article, aside, b, bdi, bdo, big, blockquote, body, br, caption, cite, code, data, dd, del, dfn, div, dl, dt, em, figcaption, figure, footer, h1, h2, h3, h4, h5, h6, header, hr, i, img, ins, kbd, li, main, mark, nav, noscript, ol, p, pre, q, rp, rt, ruby, s, samp, section, small, span, strike, strong, sub, sup, table, tbody, td, template, tfoot, th, thead, time, tr, tt, u, ul, var</p>
</blockquote>
<p>使用示例</p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DART"><figure class="iseeu highlight /dart"><table><tr><td class="code"><pre><span class="line">Html(</span><br><span class="line">  data: <span class="string">"""</span></span><br><span class="line"><span class="string">    &lt;div&gt;</span></span><br><span class="line"><span class="string">      &lt;h1&gt;Demo Page&lt;/h1&gt;</span></span><br><span class="line"><span class="string">      &lt;p&gt;This is a fantastic nonexistent product that you should buy!&lt;/p&gt;</span></span><br><span class="line"><span class="string">      &lt;h2&gt;Pricing&lt;/h2&gt;</span></span><br><span class="line"><span class="string">      &lt;p&gt;Lorem ipsum &lt;b&gt;dolor&lt;/b&gt; sit amet.&lt;/p&gt;</span></span><br><span class="line"><span class="string">      &lt;h2&gt;The Team&lt;/h2&gt;</span></span><br><span class="line"><span class="string">      &lt;p&gt;There isn't &lt;i&gt;really&lt;/i&gt; a team...&lt;/p&gt;</span></span><br><span class="line"><span class="string">      &lt;h2&gt;Installation&lt;/h2&gt;</span></span><br><span class="line"><span class="string">      &lt;p&gt;You &lt;u&gt;cannot&lt;/u&gt; install a nonexistent product!&lt;/p&gt;</span></span><br><span class="line"><span class="string">      &lt;!--You can pretty much put any html in here!--&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  """</span>,</span><br><span class="line">  <span class="comment">//设置样式:</span></span><br><span class="line">  padding: EdgeInsets.all(<span class="number">8.0</span>),</span><br><span class="line">  backgroundColor: Colors.white70,</span><br><span class="line">  defaultTextStyle: TextStyle(fontFamily: <span class="string">'serif'</span>),</span><br><span class="line">  linkStyle: <span class="keyword">const</span> TextStyle(</span><br><span class="line">    color: Colors.redAccent,</span><br><span class="line">  ),</span><br><span class="line">  onLinkTap: (url) &#123;</span><br><span class="line">    <span class="comment">// 点击 html 中 a 标签链接触发</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onImageTap: (src) &#123;</span><br><span class="line">    <span class="comment">// 点击 图片 触发.</span></span><br><span class="line">  &#125;,</span><br><span class="line">)</span><br></pre></td></tr></table></figure></div>]]></content>
      <tags>
        <tag>flutter,html</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2019/11/25/hello-world/</url>
    <content><![CDATA[<h2 id="Abeiv"><a href="#Abeiv" class="headerlink" title="Abeiv"></a>Abeiv</h2><h3 id="菜就是憨"><a href="#菜就是憨" class="headerlink" title="菜就是憨"></a>菜就是憨</h3>]]></content>
  </entry>
</search>
